<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>jQuery.post()</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">jQuery.post()</h1>
	<hr>
		<h3>
	<blockquote>
		概述&nbsp;&nbsp;&nbsp;&nbsp;jQuery.post( url [, data ] [, success ] [, dataType ] )
	</blockquote>
</h3>
<div class="desc">
	<p>
		返回值：<a href="http://www.shouce.ren/api/view/a/13081#articleHeader39" target="_blank">XMLHttpRequest</a> 
	</p>
	<p>
	</p>
	<p class="desc">
		<strong>描述：</strong>使用一个HTTP POST 请求从服务器加载数据。
	</p>
	<ul class="signatures">
		<li class="signature">
			<h4 class="name">
				<span class="version-details">V	: 1.0</span><span class="icon-link"></span>jQuery.post( url [, data ] [, success ] [, dataType ] )
			</h4>
			<ul>
				<li>
					<div>
						<strong>url</strong> 
					</div>
					<div>
						类型:String
					</div>
					<div>
						一个包含发送请求的URL字符串.
					</div>
				</li>
				<li>
					<div>
						<strong>data</strong> 
					</div>
					<div>
						类型:<a href="http://www.shouce.ren/api/view/a/13081#articleHeader25" target="_blank">PlainObject</a> or String
					</div>
					<div>
						一个普通对象或字符串，通过请求发送给服务器。
					</div>
				</li>
				<li>
					<div>
						<strong>success</strong> 
					</div>
					<div>
						类型:<a href="http://www.shouce.ren/api/view/a/13081#articleHeader28" target="_blank">Function</a>( PlainObject data, String textStatus, jqXHR jqXHR )
					</div>
					<div>
						当请求成功后执行的回调函数。
                        如果提供<code>dataType</code>选项，那么这个<code>success</code>选项是必须的，
                        但这种情况下你可以使用<code>null</code>。
					</div>
				</li>
				<li>
					<div>
						<strong>dataType</strong> 
					</div>
					<div>
						类型:String
					</div>
					<div>
						从服务器返回的预期的数据类型。默认：智能猜测（xml, json, script, text，html）。
					</div>
				</li>
			</ul>
		</li>
		<li class="signature">
			<h4 class="name">
				<span class="version-details">V	: 1.12/2.2</span><span class="icon-link"></span>jQuery.post(
                [settings ] )
			</h4>
			<ul>
				<li>
					<div>
						<strong>settings</strong> 
					</div>
					<div>
						类型:PlainObject
					</div>
					<div>
						一组用于配置Ajax请求的键/值对。除了<code>url</code>以外的所有选项属性都是可选的。任何默认选项可以用<a href="http://www.shouce.ren/api/view/a/12874" class="book-a">$.ajaxSetup()</a>进行设置。所有选项设置的完整列表，请参阅<a href="http://www.shouce.ren/api/view/a/12861" class="book-a">jQuery.ajax( settings )</a>。
                        type（类型）选项将自动设置为<code>POST</code>。
					</div>
				</li>
			</ul>
		</li>
	</ul>
	<div class="longdesc" id="entry-longdesc">
		<p>
			这是一个 Ajax 函数的简写形式，这相当于：
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$.ajax({
  type: "POST",
  url: url,
  data: data,
  success: success,
  dataType: dataType
});</pre>
		</div>
		<p>
			<code>success</code>回调函数会传入返回的数据，是根据MIME类型的响应，它可能返回的数据类型包括XML根节点, 字符串, JavaScript 文件, 或者 JSON 对象。 同时还会传入描述响应状态的字符串。
		</p>
		<p>
			<strong>从 jQuery 1.5开始</strong>，<code>success</code>回调函数还传递一个“jqXHR”对象 （ <strong>在</strong> jQuery <strong>1.4中</strong> ，它传递的是<code>XMLHttpRequest</code>对象）。
		</p>
		<p>
			大多数实现将指定一个成功的处理函数：
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$.post('ajax/test.html', function(data) {
  $('.result').html(data);
});</pre>
		</div>
		<p>
			这个示例所请求的全部HTML代码片段插入到页面中。
		</p>
		<p>
			用 <code>POST</code> 获取的页面是从来不会被缓存, 所以这些请求中的 <code>cache</code> 和 <code>ifModified</code> 选项在 <code><a href="http://www.shouce.ren/api/view/a/12874" class="book-a">jQuery.ajaxSetup()</a></code> 是无效的。
		</p>
		<h4 id="jqxhr-object">
			The jqXHR Object（jqXHR 对象）
		</h4>
		<p>
			<strong>从jQuery 1.5开始</strong>，所有jQuery的Ajax方法都返回一个<code>XMLHTTPRequest</code>对象的超集。这个通过<code>$.post()</code>方法返回的jQuery XHR对象，或“jqXHR”，实现了 Promise 接口，使它拥有 Promise 的所有属性，方法和行为。<code>jqXHR.done()</code> (表示成功), <code>jqXHR.fail() (表示错误)</code>, 和 <code>jqXHR.always()</code> (表示完成, 无论是成功或错误；在jQuery 1.6 中添加) 方法接受一个函数参数，用来请求终止时被调用。关于这个函数接收参数的详细信息，请参阅 <a href="http://www.shouce.ren/api/view/a/12861" class="book-a">jqXHR Object</a> 文档中的 $.ajax() 章节。
		</p>
		<p>
			Promise 接口也允许jQuery的Ajax方法, 包括 <code>$.get()</code>, 在一个单独的请求中关联到 <code>.done()</code>, <code>.fail()</code>, 和 <code>.always()</code> 回调函数， 甚至允许你在请求已经结束后，指派回调函数。如果该请求已经完成，则回调函数会被立刻调用。
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">// Assign handlers immediately after making the request,
    // and remember the jqxhr object for this request
    var jqxhr = $.post("example.php", function() {
      alert("success");
    })
    .success(function() { alert("second success"); })
    .error(function() { alert("error"); })
    .complete(function() { alert("complete"); });
 
    // perform other work here ...
 
    // Set another completion function for the request above
    jqxhr.complete(function(){ alert("second complete"); });</pre>
		</div>
		<h4>
			Deprecation Notice（推荐使用的注意事项：）
		</h4>
		<p>
			<code>jqXHR.success()</code>, <code>jqXHR.error()</code>, 和 <code>jqXHR.complete()</code> 回调方法 <del>在jQuery 1.5中引进， <strong>在jQuery 1.8中不赞成使用，已经过时</strong>。他们最终将被取消（移除），你的代码应该为次做好准备，</del> 从jQuery 3.0开始被删除，你可以使用 <code>jqXHR.done()</code>, <code>jqXHR.fail()</code>, 和 <code>jqXHR.always()</code> 代替.
		</p>
	</div>
	<h3>
		Additional Notes:（其他注意事项：）
	</h3>
	<div class="longdesc">
		<ul>
			<li>
				由于浏览器的安全限制，大多数“Ajax”的要求，均采用<a title="维基百科上的同源策略" href="http://en.wikipedia.org/wiki/Same_origin_policy">同一起源的政策</a> ;即无法从不同的域，子域或协议中正确接收数据。
			</li>
			<li>
				如果一个jQuery.post（）请求返回一个错误代码，它会静静的失败，除非脚本调用全局的<a href="http://www.shouce.ren/api/view/a/12868" class="book-a">.ajaxError（）</a>方法。在jQuery 1.5， 通过jQuery.post()返回的<code>jqXHR</code>对象的<code>.error()</code>方法也可用于错误处理。
			</li>
		</ul>
	</div>
</div>
<div class="example">
	<h3>
		<blockquote>
			示例
		</blockquote>
	</h3>
<span id="f_ad2"></span> 
	<h4>
		实例
	</h4>
	<p>
		请求 test.php 网页，忽略返回值：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php");</code></pre>
	<h4>
		实例
	</h4>
	<p>
		请求 test.php 页面，并一起发送一些额外的数据（同时仍然忽略返回值）：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php", { name: "John", time: "2pm" } );</code></pre>
	<h4>
		实例
	</h4>
	<p>
		向服务器传递数据数组（同时仍然忽略返回值）：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php", { 'choices[]': ["Jon", "Susan"] });</code></pre>
	<h4>
		实例
	</h4>
	<p>
		使用 ajax 请求发送表单数据：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php", $("#testform").serialize());</code></pre>
	<h4>
		实例
	</h4>
	<p>
		输出来自请求页面 test.php 的结果（HTML 或 XML，取决于所返回的内容）：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php", function(data){
    alert("Data Loaded: " + data);
});</code></pre>
	<h4>
		实例
	</h4>
	<p>
		向页面 test.php 发送数据，并输出结果（HTML 或 XML，取决于所返回的内容）：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php", { name: "John", time: "2pm" },
    function(data){
      alert("Data Loaded: " + data);
});</code></pre>
	<h4>
		实例
	</h4>
	<p>
		获得 test.php 页面的内容，并存储为 XMLHttpResponse 对象，并通过 process() 这个 JavaScript 函数进行处理：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php", { name: "John", time: "2pm" },
    function(data){
      process(data);
}, "xml");</code></pre>
	<h4>
		实例
	</h4>
	<p>
		获得 test.php 页面返回的 json 格式的内容：：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$.post("test.php", { "func": "getNameAndTime" },
     function(data){
          alert(data.name); // John
          console.log(data.time); //  2pm
}, "json");</code></pre>
	<h4>
		实例
	</h4>
	<p>
		jQuery 1.12 中 jQuery.post支持对象参数，具体的参数可以参考 <code>$.ajax()</code>：
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code> jQuery.post({
      url: "/example" }); </code></pre>
</div>
<p>
</p>
<h4>
	实例
</h4>
<p>
	<span class="desc">用ajax传递一个表单并把结果在一个div中</span> 
</p>
<pre class="prettyprint lang-js">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;script src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;form action="/" id="searchForm"&gt;
   &lt;input type="text" name="s" placeholder="Search..." /&gt;
   &lt;input type="submit" value="Search" /&gt;
  &lt;/form&gt;
  &lt;!-- the result of the search will be rendered inside this div --&gt;
  &lt;div id="result"&gt;&lt;/div&gt;
 
&lt;script&gt;
/* attach a submit handler to the form */
$("#searchForm").submit(function(event) {
 
  /* stop form from submitting normally */
  event.preventDefault();
 
  /* get some values from elements on the page: */
  var $form = $( this ),
      term = $form.find( 'input[name="s"]' ).val(),
      url = $form.attr( 'action' );
 
  /* Send the data using post and put the results in a div */
  $.post( url, { s: term },
    function( data ) {
        var content = $( data ).find( '#content' );
        $( "#result" ).empty().append( content );
    }
  );
});
&lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>
</p>
<p>
	<a href="http://www.shouce.ren/study/api/s/8028" target="_blank" class="btn btn-sm btn-success">运行一下</a> 
</p></div>
<div class="m-bg text-center margin_t_1">
	<a class="btn btn-sm btn-default" href="http://www.shouce.ren"><strong>手册网</strong></a>
</div>
<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
});
</script>
</body>
</html>
