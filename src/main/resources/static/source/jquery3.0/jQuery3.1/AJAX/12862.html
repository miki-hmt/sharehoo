<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>load()</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">load()</h1>
	<hr>
		<h3>
	<blockquote>
		概述&nbsp;&nbsp;&nbsp;&nbsp;.load( url [, data ] [, complete(responseText, textStatus, XMLHttpRequest) ] )
	</blockquote>
</h3>
<div class="desc">
	<p>
		返回值：<code><a href="http://www.shouce.ren/api/view/a/13081#articleHeader38" target="_blank">jQuery</a></code> 
	</p>
	<p>
	</p>
	<p class="desc">
		<strong>描述：</strong>从服务器载入数据并且将返回的 HTML 代码并插入至 匹配的元素 中。
	</p>
	<ul class="signatures">
		<li class="signature" id="load-url-data-completeresponseText--textStatus--XMLHttpRequest">
			<h4 class="name">
				<span class="version-details">V : 1.0</span>.load( url [, data ] [, complete(responseText, textStatus, XMLHttpRequest) ] )
			</h4>
			<ul>
				<li>
					<div>
						<strong>url</strong> 
					</div>
					<div>
						类型: <a href="http://www.shouce.ren/api/view/a/13081#articleHeader0">String</a> 
					</div>
					<div>
						一个包含发送请求的URL字符串
					</div>
				</li>
				<li>
					<div>
						<strong>data</strong> 
					</div>
					<div>
						类型: <a href="http://www.shouce.ren/api/view/a/13081#articleHeader25" target="_blank">PlainObject</a>, String
					</div>
					<div>
						向服务器发送请求的Key/value参数，例如{name:"手册网",age:23}
					</div>
				</li>
				<li>
					<div>
						<strong>complete(responseText, textStatus, XMLHttpRequest)</strong> 
					</div>
					<div>
						类型: <a href="http://www.shouce.ren/api/view/a/13081#articleHeader28">Function</a>()
					</div>
					<div>
						当请求成功后执行的回调函数。
					</div>
				</li>
			</ul>
		</li>
	</ul>
	<div class="longdesc" id="entry-longdesc">
		<blockquote>
			<p>
				注意: 事件处理函数中也有一个方法叫 <a href="http://www.shouce.ren/api/view/a/12862" target="_blank" class="book-a"><code><span class="book-a">.load()</span></code></a>。 &nbsp;jQuery根据传递给它的参数设置来确定使用哪个方法执行。
			</p>
		</blockquote>
		<p>
			这个方法是从服务器获取数据最简单的方法。除了不是全局函数，这个方法和<code>$.get(url, data, success)</code> 基本相同，它有一个隐含的回调函数。 当他检查到一个成功的请求(i.e. 当 <code>textStatus</code>是 "success" 或者 "notmodified")时，<code>.load()</code> 方法将返回的HTML 内容数据设置到相匹配的节点中。这就意味着大多数采用这个方法可以很简单:
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$('#result').load('ajax/test.html');</pre>
		</div>
		<p>
			如果选择器没有匹配的元素——在这种情况下，如果document不包含id = "result" 的元素- 这个Ajax请求将<em>不会</em>被发送出去。
		</p>
		<p>
			如果提供回调,都将在执行后进行后处理:
		</p>
		<h4 id="callback-function">
			Callback Function
		</h4>
		<p>
			如果提供了 "complete" 回调函数，它将在函数处理完之后，并且 HTML 已经被插入完时被调用。回调函数会在每个匹配的元素上被调用一次，并且 <code>this</code>始终指向当前正在处理的 DOM 元素。
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$('#result').load('ajax/test.html', function() {
  alert('Load was performed.');
});</pre>
		</div>
		<p>
			在上文的两个示例中, 如果当前的文件不包含ID为“result”的元素，那么<code>.load()</code>方法将不被执行。
		</p>
		<h4 id="request-method">
			Request Method（请求方法）
		</h4>
		<p>
			默认使用 GET 方式 ， 如果data参数提供一个对象，那么使用 POST 方式。
		</p>
		<h4 id="loading-page-fragments">
			Loading Page Fragments（加载页面片段）
		</h4>
		<p>
			<code>.load()</code> 方法, 不像 <code><a href="http://www.shouce.ren/api/view/a/12863" class="book-a">$.get()</a></code>那样，允许我们使用在 <code>url</code> 中添加特定参数的特殊语法，来实现可以指定要插入哪一部分远程文档。如果 <code>url</code> 参数的字符串中包含一个或多个空格，那么第一个空格后面的内容，会被当成是 jQuery 的选择器，从而决定应该加载返回结果中的哪部分内容。手册网注：第一个空格后面是一个jQuery选择器，返回的内容中匹配该选择器的内容将被载人到页面中。）
		</p>
		<p>
			我们可以修改上述示例中,只有#container的一部分被载人到文件中：
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$('#result').load('ajax/test.html #container');</pre>
		</div>
		<p>
			当这种方法执行, 它将检索 <code>ajax/test.html</code> 返回的页面内容，jQuery会获取ID为 <code>container</code> 元素的内容，并且插入到ID为 <code>result</code> 元素，而其他未被检索到的元素将被废弃。
		</p>
		<p>
			jQuery使用浏览器的<code>.innerHTML</code>属性去解析检索到的文档，并将其插入到当前文档中。在此过程中，浏览器通常会过滤文档中的一些元素 ，比如<code>&lt;html&gt;</code>, <code>&lt;title&gt;</code>, 或者 <code>&lt;head&gt;</code> 元素。其结果是，由<code>.load()</code>方法返回的元素与从浏览器中直接获取到的文档内容，可能是并不完全一样的。
		</p>
		<h4 id="script-execution">
			Script Execution（脚本执行）
		</h4>
		<p>
			当使用URL参数中没有后面跟选择器表达式时，
      那么传递给 <code>.html()</code> 的返回内容中，是含有脚本的。在它们被丢弃之前，脚本是会被执行的。但如果调用 <code>.load()</code>时，即使在 url 参数中添加了选择器表达式，但在 DOM 被更新之前，脚本会被删除。因此脚本<em>不</em>会被执行。下面的示例分别演示了这两种情况：
		</p>
		<p>
			任何加载到 <code>#a</code> 中的 JavaScript 脚本，将会作为文档的一部分而被执行。
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$('#a').load('article.html');</pre>
		</div>
		<p>
			然而，在以下情况下，脚本块将从被加载到<code>#b</code>的document中被剥离出来，而不执行：
		</p>
		<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$('#b').load('article.html #target');</pre>
		</div>
	</div>
	<h3>
		Additional Notes:（其他注意事项：）
	</h3>
	<div class="longdesc">
		<ul>
			<li>
				由于浏览器的安全限制，大多数“Ajax”的要求，均采用<a title="维基百科上的同源策略" href="http://en.wikipedia.org/wiki/Same_origin_policy">同源的政策</a> ;该请求不能成功地检索来自不同的域，子域或协议的数据。
			</li>
		</ul>
	</div>
</div>
<div class="example">
	<h3>
		<blockquote>
			示例
		</blockquote>
	</h3>
<span id="f_ad2"></span> 
	<h4>
		实例
	</h4>
	<p>
		加载文章侧边栏导航部分至一个无序列表。
	</p>
	<h5>
		HTML 代码:
	</h5>
<pre><code>&lt;b&gt;jQuery Links:&lt;/b&gt;
&lt;ul id="links"&gt;&lt;/ul&gt;</code></pre>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$("#links").load("/Main_Page #p-Getting-Started li");</code></pre>
	<h4>
		实例
	</h4>
	<p>
		加载 feeds.html 文件内容。
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code>$("#feeds").load("feeds.html");</code></pre>
	<h4>
		实例
	</h4>
	<p>
		同上，但是以 POST 形式发送附加参数并在成功时显示信息。
	</p>
	<h5>
		jQuery 代码:
	</h5>
<pre><code> $("#feeds").load("feeds.php", {limit: 25}, function(){
   alert("The last 25 entries in the feed have been loaded");
 });</code></pre>
</div>
<p>
</p>
<div class="entry-example" id="example-0">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">在一个有序列表中，加载主页的页脚导航。</span> 
	</p>
	<div class="syntaxhighlighter xml ">
<pre class="prettyprint lang-js">&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;load demo&lt;/title&gt;
  &lt;style&gt;
  body {
    font-size: 12px;
    font-family: Arial;
  }
  &lt;/style&gt;
  &lt;script src="//code.jquery.com/jquery-1.10.2.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
 
&lt;b&gt;Projects:&lt;/b&gt;
&lt;ol id="new-projects"&gt;&lt;/ol&gt;
 
&lt;script&gt;
$( "#new-projects" ).load( "/resources/load.html #projects li" );
&lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre>
	</div>
</div>
<div class="entry-example" id="example-1">
	<h4>
		实例<span class="desc"></span> 
	</h4>
	<p>
		<span class="desc">显示一个信息如果Ajax请求遭遇一个错误</span> 
	</p>
	<div class="syntaxhighlighter xml ">
<pre class="prettyprint lang-js">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;style&gt;
  body{ font-size: 12px; font-family: Arial; }
  &lt;/style&gt;
  &lt;script src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
 
&lt;b&gt;Successful Response (should be blank):&lt;/b&gt;
&lt;div id="success"&gt;&lt;/div&gt;
&lt;b&gt;Error Response:&lt;/b&gt;
&lt;div id="error"&gt;&lt;/div&gt;
 
&lt;script&gt;
$("#success").load("/not-here.php", function(response, status, xhr) {
  if (status == "error") {
    var msg = "Sorry but there was an error: ";
    $("#error").html(msg + xhr.status + " " + xhr.statusText);
  }
});
  &lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre>
	</div>
</div>
<div class="entry-example" id="example-2">
	<h4>
		实例<span class="desc"></span> 
	</h4>
	<p>
		<span class="desc">将feeds.html 文件载人到 ID为feeds的DIV.</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$("#feeds").load("feeds.html");</pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter xml nogutter">
<pre class="prettyprint lang-js">&lt;div id="feeds"&gt;&lt;b&gt;45&lt;/b&gt; feeds found.&lt;/div&gt;</pre>
	</div>
</div>
<div class="entry-example" id="example-3">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">发送数组形式的data参数到服务器。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$("#objectID").load("test.php", { 'choices[]': ["Jon", "Susan"] } );</pre>
	</div>
</div>
<h4>
	实例
</h4>
<p>
	<span class="desc">Same as above, but will POST the 
additional parameters to the server and a callback that is executed when
 the server is finished responding.</span> 
</p>
<pre class="prettyprint lang-js">$("#feeds").load("feeds.php", {limit: 25}, function(){
alert("The last 25 entries in the feed have been loaded");
});</pre>
<p>
</p></div>
<div class="m-bg text-center margin_t_1">
	<a class="btn btn-sm btn-default" href="http://www.shouce.ren"><strong>手册网</strong></a>
</div>
<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
});
</script>
</body>
</html>
