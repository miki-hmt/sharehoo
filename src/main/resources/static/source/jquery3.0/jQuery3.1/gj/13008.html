<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>jQuery.map()</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">jQuery.map()<span class="g-bg-red margin-l-5">1.6*</span></h1>
	<hr>
		<h3>
	<blockquote>
		概述&nbsp;&nbsp;&nbsp;&nbsp;jQuery.map( array, callback(elementOfArray, indexInArray) )
	</blockquote>
</h3>
<div class="desc">
	<p>
		返回值：<code>Array</code> 
	</p>
</div>
<p>
</p>
<p class="desc">
	<strong>描述：</strong>将一个数组中的所有元素转换到另一个数组中。
</p>
<ul class="signatures">
	<li class="signature" id="jQuery-map-array-callbackelementOfArray--indexInArray">
		<h4 class="name">
			<span class="version-details">V : 1.0</span>jQuery.map( array, callback(elementOfArray, indexInArray) )
		</h4>
		<ul>
			<li>
				<div>
					<strong>array</strong> 
				</div>
				<div>
					类型: Array
				</div>
				<div>
					待转换数组。
				</div>
			</li>
			<li>
				<div>
					<strong>callback(elementOfArray, indexInArray)</strong> 
				</div>
				<div>
					类型: Function()
				</div>
				<div>
					处理每一个元素的函数。第一个参数是数组元素，第二个参数是该元素的索引值。该函数可以返回任何值。在函数内部，<code>this</code>将是全局的window对象。
				</div>
			</li>
		</ul>
	</li>
	<li class="signature" id="jQuery-map-arrayOrObject-callback-value--indexOrKey-">
		<h4 class="name">
			<span class="version-details">V : 1.6</span>jQuery.map( arrayOrObject, callback( value, indexOrKey ) )
		</h4>
		<ul>
			<li>
				<div>
					<strong>arrayOrObject</strong> 
				</div>
				<div>
					类型: Array,Object
				</div>
				<div>
					待转换数组或对象。
				</div>
			</li>
			<li>
				<div>
					<strong>callback( value, indexOrKey )</strong> 
				</div>
				<div>
					类型: Function()
				</div>
				<div>
					处理每一个元素的函数。第一个参数是数组中元素或对象的值，第二个参数是该元素在数组中的索引值或该对象的键。该函数可以返回任何值，该返回值会被添加到数组中。若返回是数组，则会将该数组中的元素添加到最终的结果数组中。在函数内部， <code>this</code>指的是全球（window）的对象。
				</div>
			</li>
		</ul>
	</li>
</ul>
<div class="longdesc" id="entry-longdesc">
	<p>
		如果你希望处理一个jQuery对象——例如，<code>$('div').map( callback );</code> — 使用 <code>.map()</code> 代替.
	</p>
	<p>
		<code>$.map()</code>方法会在数组的每一个元素或对象上应用一个函数并将结果映射到一个新的数组中。<strong>在jQuery 1.6之前，</strong>，<code>$.map()</code>只支持遍历<em>数组和类似数组的对象</em> 。<strong>在jQuery 1.6</strong>也支持遍历对象。
	</p>
	<p>
		类数组（Array-like）对象——也就是那些含有<code>.length</code>属性 <em>以及</em> 在索引值为<code>.length - 1</code> 的位置有值的对象，必须将其转化成真正的数组之后才能传递给 <code>$.map()</code>方法使用。jQuery 库提供了 <code>$.makeArray()</code> 方法来完成这样的转换。
	</p>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">// The following object masquerades as an array.
var fakeArray = {"length": 1, 0: "Addy", 1: "Subtracty"};
 
// Therefore, convert it to a real array
var realArray = $.makeArray( fakeArray )
 
// Now it can be used reliably with $.map()
$.map( realArray, function(val, i) {
  // do something
});</pre>
	</div>
	<p>
		在该方法中提供的转换函数会应用在数组或对象的顶级（top-level）元素上，并且该转换函数中有两个参数：元素在数组或对象中的值及该值所对应的索引值或键。
	</p>
	<p>
		该函数可以返回：
	</p>
	<ul>
		<li>
			转换后的值，该值会被映射到最终的结果数组中
		</li>
		<li>
			<code>null</code>或者<code>undefined</code>, 用于移除该元素
		</li>
		<li>
			数组，会将该数组中的元素添加到最终的结果数组中
		</li>
	</ul>
</div>
<div class="jquery-api-top">
</div>
<header>
<h3 class="underline">
	<blockquote>
		示例
	</blockquote>
</h3>
</header>
<div class="entry-example" id="example-0">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">使用$.map() 修改一个数组的值。 </span> 
	</p>
<pre class="prettyprint lang-js">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;style&gt;
  div { color:blue; }
  p { color:green; margin:0; }
  span { color:red; }
  &lt;/style&gt;
  &lt;script src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div&gt;&lt;/div&gt;
  &lt;p&gt;&lt;/p&gt;
  &lt;span&gt;&lt;/span&gt;
 
&lt;script&gt;
    var arr = [ "a", "b", "c", "d", "e" ];
    $("div").text(arr.join(", "));
 
    arr = jQuery.map(arr, function(n, i){
      return (n.toUpperCase() + i);
    });
    $("p").text(arr.join(", "));
 
    arr = jQuery.map(arr, function (a) {
      return a + a;
    });
    $("span").text(arr.join(", "));
 
&lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre>
	<p>
	</p>
	<div class="syntaxhighlighter xml ">
	</div>
	<p>
		<a href="http://www.shouce.ren/study/api/s/8197" target="_blank" class="btn btn-sm btn-success">运行一下</a>
	</p>
</div>
<div class="entry-example" id="example-1">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">将原始数组中的每个值加 4 后，映射到新的数组中。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$.map( [0,1,2], function(n){
  return n + 4;
});</pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">[4, 5, 6]</pre>
	</div>
</div>
<div class="entry-example" id="example-2">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">若原始数组中的值大于 0，则将该值加 1 后，映射到新的数组中，否则在结果数组中将不包含该值。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$.map( [0,1,2], function(n){
  return n &gt; 0 ? n + 1 : null;
});</pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">[2, 3]</pre>
	</div>
</div>
<div class="entry-example" id="example-3">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">将原始数组中每个值及该值加 1 后的值作为返回结果，映射到新生成的数组中。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$.map( [0,1,2], function(n){
    return [ n, n + 1 ];
});</pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">[0, 1, 1, 2, 2, 3]</pre>
	</div>
</div>
<div class="entry-example" id="example-4">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">将原始对象中的每个值乘 2 后，映射到新生成的数组中。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">var dimensions = { width: 10, height: 15, length: 20 };
dimensions = $.map( dimensions, function( value, index ) {
  return value * 2;
}); </pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js"> [20, 30, 40]</pre>
	</div>
</div>
<div class="entry-example" id="example-5">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">将对象中的键映射到新生成的数组中。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">var dimensions = { width: 10, height: 15, length: 20 };
var keys = $.map( dimensions, function( value, key ) {
  return key;
}); </pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">["width", "height", "length"]</pre>
	</div>
</div>
<div class="entry-example" id="example-6">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">将原始数组中每个值的两次方作为返回结果，映射到新生成的数组中。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$.map( [0,1,2,3], function (a) {
  return a * a;
});</pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">[0, 1, 4, 9]</pre>
	</div>
</div>
<div class="entry-example" id="example-7">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">在处理函数中，通过返回 null 的方式来移除该元素。移除条件是该值小于 50。同时将未被移除的元素值减小 45。</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$.map( [0, 1, 52, 97], function (a) {
  return (a &gt; 50 ? a - 45 : null);
});</pre>
	</div>
	<h4>
		Result:
	</h4>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">[7, 52]</pre>
	</div>
</div>
<h4>
	实例
</h4>
<p>
	<span class="desc">通过在处理函数中返回数组的方式，在最终返回的结果数组中添加元素。</span> 
</p>
<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">var array = [0, 1, 52, 97];
array = $.map(array, function(a, index) {
  return [a - 45, index];
}); </pre>
</div>
<h4>
	Result:
</h4>
<pre class="prettyprint lang-js">[-45, 0, -44, 1, 7, 2, 52, 3]</pre>
<p>
</p></div>
<div class="m-bg text-center margin_t_1">
	<a class="btn btn-sm btn-default" href="http://www.shouce.ren"><strong>手册网</strong></a>
</div>
<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
});
</script>
</body>
</html>
