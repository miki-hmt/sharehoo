<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>trigger()</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">trigger()</h1>
	<hr>
		<h3>
	<blockquote>
		概述&nbsp;&nbsp;&nbsp;&nbsp;.trigger( eventType [, extraParameters ] )
	</blockquote>
</h3>
<div class="desc">
	<p>
		返回值：<code><a href="http://www.shouce.ren/api/view/a/13081#articleHeader38" target="_blank">jQuery</a></code> 
	</p>
</div>
<p>
</p>
<p class="desc">
	<strong>描述：</strong> 根据绑定到匹配元素的给定的事件类型执行所有的处理程序和行为。
</p>
<ul class="signatures">
	<li class="signature">
		<h4 class="name">
			<span class="version-details">V : 1.0</span>.trigger( eventType [, extraParameters ] )
		</h4>
		<ul>
			<li>
				<div>
					<strong>eventType</strong> 
				</div>
				<div>
					类型: String
				</div>
				<div>
					一个包含JavaScript事件类型的字符串，比如<code>click</code> 或 <code>submit</code>。
				</div>
			</li>
			<li>
				<div>
					<strong>extraParameters</strong> 
				</div>
				<div>
					类型: Array 或 PlainObject
				</div>
				<div>
					传递给事件处理程序的额外参数。
				</div>
			</li>
		</ul>
	</li>
	<li class="signature">
		<h4 class="name">
			<span class="version-details">V : 1.3</span>.trigger(
            event [, extraParameters ] )
		</h4>
		<ul>
			<li>
				<div>
					<strong>event</strong> 
				</div>
				<div>
					类型: Event
				</div>
				<div>
					一个<code>jQuery.Event</code> 对象.
				</div>
			</li>
			<li>
				<div>
					<strong>extraParameters</strong> 
				</div>
				<div>
					类型: Array 或 PlainObject
				</div>
				<div>
					传递给事件处理程序的额外参数。
				</div>
			</li>
		</ul>
	</li>
</ul>
<div class="longdesc" id="entry-longdesc">
	<p>
		当相应的事件发生时，任何通过<code>.on()</code>或一个快捷方法绑定的事件处理程序将被触发。但是，它们可以用<code>.trigger()</code>方法手动触发。调用 <code>.trigger()</code> 执行处理程序和用户自然的触发该事件，他们的执行顺序时相同的：
	</p>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$('#foo').on('click', function() {
      alert($(this).text());
    });
$('#foo').trigger('click');</pre>
	</div>
	<p>
		从jQuery 1.3开始，<code>.trigger()</code>事件会在DOM树上冒泡;在事件处理程序中返回<code>false</code>或调用事件对象中的<code>.stopPropagation()</code> 方法可以使事件停止冒泡。尽管 <code>.trigger()</code> 模拟了事件的激活，具备合成的 event 对象，但是它并没有完美的复制自然发生的事件（naturally-occurring event）。
	</p>
	<p>
		若要触发通过 jQuery 绑定的事件处理函数，而不触发原生的事件，使用<code>.triggerHandler()</code> 来代替。
	</p>
	<p>
		当我们使用<code>.on()</code>方法定义一个自定义事件类型，<code>.trigger()</code>的第二个参数就有用了。例如，假设我们自定义事件的处理程序绑定到我们的元素而不是内置的click事件，象我们上面那样：
	</p>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$('#foo').on('custom', function(event, param1, param2) {
  alert(param1 + "\n" + param2);
});
$('#foo').trigger('custom', ['Custom', 'Event']);</pre>
	</div>
	<p>
		事件对象始终是被传递到事件处理程序的第一个参数，但如果指定了额外的参数调用<code>.trigger()</code> 时，这些参数将被传递给处理程序。要传递多个参数，使用一个数组，如下所示。从jQuery 1.6.2开始，可以通过一个单一的参数，而不使用一个数组。
	</p>
	<p>
		请注意向该方法中传入的 <code>extraParameters</code> 参数与传入到 <code>.on()</code> 方法中的 <code>eventData</code> 参数的区别。它们的机制都是向事件处理函数中传入信息，但是传入 <code>.trigger()</code> 中的 <code>extraParameters</code> 参数是在事件发生时传入的，而传入到 <code>.on()</code> 中的 <code>eventData</code> 参数要求在进行事件绑定时就要事先计算好。
	</p>
	<p>
		<code>.trigger()</code> 方法可以应用在包裹简单 JavaScript 对象的 jQuery 集合中，类似 pub/sub 机制(观察者机制)。当事件发生时，任何绑定在对象上的处理函数都会被触发。
	</p>
	<div class="warning">
		<strong>注意:</strong> 对于非<code>window</code>的普通的对象和DOM对象，
    如果一个触发事件名称和对象的一个属性名称相匹配，
    如果事件处理程序没有调用<code>event.preventDefault()</code>，jQuery将尝试调用属性的方法。
    如果不希望这种行为发生，请使用<code>.triggerHandler()</code> 来代替。（手册网注  .triggerHandler() 方法并不会触发事件的默认行为。）
	</div>
	<div class="warning">
		<strong>注意:</strong> 和<code>.triggerHandler()</code>一样，
        当调用<code>.trigger()</code>时，当一个事件名称匹配对象上属性名称时，属性名称会加上<code>on</code>前缀（如，在 具有非空<code>onclick</code>方法的<code>window</code>上触发<code>click</code>），
        &nbsp;jQuery将尝试调用该属性作为方法。
	</div>
</div>
<div class="warning">
	<strong>注意:</strong> 当通过一个普通的对象不是类数组触发时
        但仍然包含了<code>length</code>属性，
        你应该传递对象到数组中（例如：<code>[ { length: 1 } ]</code>）。
</div>
<div class="jquery-api-top">
</div>
<header>
<h3 class="underline">
	<blockquote>
		示例
	</blockquote>
</h3>
</header>
<div class="entry-example" id="example-0">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">点击 button #2 时，同时触发 button #1 的点击事件。</span> 
	</p>
	<div class="syntaxhighlighter xml ">
<pre class="prettyprint lang-js">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;style&gt;
 
button { margin:10px; }
div { color:blue; font-weight:bold; }
span { color:red; }
&lt;/style&gt;
  &lt;script src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;button&gt;Button #1&lt;/button&gt;
&lt;button&gt;Button #2&lt;/button&gt;
&lt;div&gt;&lt;span&gt;0&lt;/span&gt; button #1 clicks.&lt;/div&gt;
 
&lt;div&gt;&lt;span&gt;0&lt;/span&gt; button #2 clicks.&lt;/div&gt;
&lt;script&gt;
$("button:first").click(function () {
update($("span:first"));
});
$("button:last").click(function () {
$("button:first").trigger('click');
 
update($("span:last"));
});
 
function update(j) {
var n = parseInt(j.text(), 10);
j.text(n + 1);
}
&lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre>
	</div>
	<p>
		<p>
			<a href="http://www.shouce.ren/study/api/s/8160" target="_blank" class="btn btn-sm btn-success">运行一下</a>
		</p>
	</p>
</div>
<div class="entry-example" id="example-1">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">若要提交第一个表单但又不想使用 submit() 函数，请尝试如下方法：</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$("form:first").trigger("submit")</pre>
	</div>
</div>
<div class="entry-example" id="example-2">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">若要提交第一个表单但又不想使用 submit() 函数，请尝试如下方法：</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">var event = jQuery.Event("submit");
$("form:first").trigger(event);
if ( event.isDefaultPrevented() ) {
// Perform an action...
}</pre>
	</div>
</div>
<div class="entry-example" id="example-3">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">向事件中传入任意的数据：</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$("p").click( function (event, a, b) {
// when a normal click fires, a and b are undefined
// for a trigger like below a refers to "foo" and b refers to "bar"
 
} ).trigger("click", ["foo", "bar"]);</pre>
	</div>
</div>
<div class="entry-example" id="example-4">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">通过 event 对象，向事件中传入任意的数据：</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">var event = jQuery.Event("logged");
event.user = "foo";
event.pass = "bar";
$("body").trigger(event);</pre>
	</div>
</div>
<h4>
	实例
</h4>
<p>
	<span class="desc">另外一种通过 event 对象传入数据的方法：</span> 
</p>
<pre class="prettyprint lang-js">$("body").trigger({
type:"logged",
user:"foo",
pass:"bar"
 
});</pre>
<p>
</p></div>
<div class="m-bg text-center margin_t_1">
	<a class="btn btn-sm btn-default" href="http://www.shouce.ren"><strong>手册网</strong></a>
</div>
<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
});
</script>
</body>
</html>
