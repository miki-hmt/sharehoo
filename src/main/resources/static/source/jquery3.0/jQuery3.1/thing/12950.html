<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>one()</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">one()</h1>
	<hr>
		<h3>
	<blockquote>
		概述&nbsp;&nbsp;&nbsp;&nbsp;.one( events [, data ], handler(eventObject) )
	</blockquote>
</h3>
<div class="desc">
	<p>
		返回值：<code><a href="http://www.shouce.ren/api/view/a/13081#articleHeader38" target="_blank">jQuery</a></code> 
	</p>
</div>
<p>
</p>
<p class="desc">
	<strong>描述：</strong>为元素的事件添加处理函数。处理函数在每个元素上每种事件类型最多执行一次。
</p>
<ul class="signatures">
	<li class="signature" id="one-events-data-handlereventObject">
		<h4 class="name">
			<span class="version-details">V : 1.1</span>.one( events [, data ], handler(eventObject) )
		</h4>
		<ul>
			<li>
				<div>
					<strong>events</strong> 
				</div>
				<div>
					类型: String
				</div>
				<div>
					一个包含一个或多个JavaScript事件类型的字符串，比如“click”或“submit”，或自定义的事件名称。
				</div>
			</li>
			<li>
				<div>
					<strong>data</strong> 
				</div>
				<div>
					类型: PlainObject
				</div>
				<div>
					一个对象，它包含的数据键值对映射将被传递给事件处理程序。
				</div>
			</li>
			<li>
				<div>
					<strong>handler(eventObject)</strong> 
				</div>
				<div>
					类型: Function()
				</div>
				<div>
					每次事件触发时会执行的函数。
				</div>
			</li>
		</ul>
	</li>
	<li class="signature" id="one-events-selector-data-handlereventObject">
		<h4 class="name">
			<span class="version-details">V : 1.7</span>.one( events [, selector ] [, data ], handler(eventObject) )
		</h4>
		<ul>
			<li>
				<div>
					<strong>events</strong> 
				</div>
				<div>
					类型: String
				</div>
				<div>
					一个或多个空格分隔的事件类型和可选的命名空间，或仅仅是命名空间，比如"click", "keydown.css88", 或者 ".myPlugin"。
				</div>
			</li>
			<li>
				<div>
					<strong>selector</strong> 
				</div>
				<div>
					类型: String
				</div>
				<div>
					，一个选择器字符串，用于过滤出被选中的元素中能触发事件的后代元素。如果选择器是<code>null</code>或被省略，那么被选中的元素总是能触发事件。
				</div>
			</li>
			<li>
				<div>
					<strong>data</strong> 
				</div>
				<div>
					类型: Anything
				</div>
				<div>
					当一个事件被触发时，要传递给事件处理函数的<code>event.data</code>。
				</div>
			</li>
			<li>
				<div>
					<strong>handler(eventObject)</strong> 
				</div>
				<div>
					类型: Function()
				</div>
				<div>
					事件被触发时，执行的函数。若该函数只是要执行<code>return false</code>的话，那么该参数位置可以直接简写成 <code>false</code>。
				</div>
			</li>
		</ul>
	</li>
	<li class="signature" id="one-events-selector-data">
		<h4 class="name">
			<span class="version-details">V : 1.7</span>.one( events [, selector ] [, data ] )
		</h4>
		<ul>
			<li>
				<div>
					<strong>events</strong> 
				</div>
				<div>
					类型: PlainObject
				</div>
				<div>
					一个映射，键是由一个或多个由空格分隔的事件类型及可选的名字空间，值是这些事件类型所对应的事件处理函数。
				</div>
			</li>
			<li>
				<div>
					<strong>selector</strong> 
				</div>
				<div>
					类型: String
				</div>
				<div>
					，一个选择器字符串，用于过滤出被选中的元素中能触发事件的后代元素。如果选择器是<code>null</code>或被省略，那么被选中的元素总是能触发事件。
				</div>
			</li>
			<li>
				<div>
					<strong>data</strong> 
				</div>
				<div>
					类型: Anything
				</div>
				<div>
					当一个事件被触发时，要传递给事件处理函数的<code>event.data</code>。
				</div>
			</li>
		</ul>
	</li>
</ul>
<div class="longdesc" id="entry-longdesc">
	<p>
		<code>.one()</code>和<code>.on()</code>是相同的，
        不同之处在于，对于给定的元素和事件类型，处理程序在第一次触发事件后会被立即解除绑定，举个示例：
	</p>
	<div class="syntaxhighlighter javascript">
<pre class="prettyprint lang-js">$( "#foo" ).one( "click", function() {
  alert( "This will be displayed only once." );
});</pre>
	</div>
	<p>
		在代码执行后，点击id为<code>foo</code>的元素将显示警报。之后再在该元素上点击时，就不会再触发该事件。此代码是等效于：
	</p>
	<div class="syntaxhighlighter javascript nogutter">
<pre class="prettyprint lang-js">$( "#foo" ).on( "click", function( event ) {
  alert( "This will be displayed only once." );
  $( this ).off( event );
});</pre>
	</div>
	<p>
		换句话说，在一个普通的事件绑定处理函数中，显式的调用 <code>.off()</code>和该方法的作用是一样的。
	</p>
	<p>
		如果该方法的第一个参数包含多个用空格分隔的事件类型的话，那么每种类型的事件被触发时，处理函数仅会<em>被每个事件类型调用一次</em>。
	</p>
	<div class="syntaxhighlighter javascript">
<pre class="prettyprint lang-js">$( "#foo" ).one( "click mouseover", function() {
  alert( "The " + event.type + " event happened!" );
});</pre>
	</div>
	<p>
		在上面的示例中，由于<em>两个</em>事件类型(<code>click</code> 和 <code>mouseover</code>)，alert可以显示两次。
	</p>
</div>
<div class="jquery-api-top">
</div>
<header>
<h3 class="underline">
	<blockquote>
		示例
	</blockquote>
</h3>
</header>
<div class="entry-example" id="example-0">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">为每个 div 绑定一次性 click 事件。</span> 
	</p>
	<div class="syntaxhighlighter xml ">
<pre class="prettyprint lang-js">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;style&gt;
div { width:60px; height:60px; margin:5px; float:left;
background:green; border:10px outset;
cursor:pointer; }
p { color:red; margin:0; clear:left; }
&lt;/style&gt;
  &lt;script src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
 
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
 
&lt;p&gt;Click a green square...&lt;/p&gt;
 
&lt;script&gt;
var n = 0;
$("div").one("click", function() {
  var index = $("div").index(this);
  $(this).css({
    borderStyle:"inset",
    cursor:"auto"
  });
  $("p").text("Div at index #" + index + " clicked." +
      "  That's " + ++n + " total clicks.");
});
 
&lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre>
	</div>
	<p>
		<p>
			<a href="http://www.shouce.ren/study/api/s/8159" target="_blank" class="btn btn-sm btn-success">运行一下</a>
		</p>
	</p>
</div>
<div class="entry-example" id="example-1">
	<h4>
		实例
	</h4>
	<p>
		<span class="desc">在每个段落上第一次点击时，显示该段落的内容：</span> 
	</p>
	<div class="syntaxhighlighter javascript ">
<pre class="prettyprint lang-js">$("p").one("click", function(){
alert( $(this).text() );
});</pre>
	</div>
</div>
<h4>
	实例
</h4>
<p>
	<span class="desc">处理函数在每个元素上每种事件类型只执行一次。</span> 
</p>
<div class="syntaxhighlighter xml ">
<pre class="prettyprint lang-js">&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;one demo&lt;/title&gt;
  &lt;script src="http://code.jquery.com/jquery-1.9.1.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
 
&lt;div class="count"&gt;0&lt;/div&gt;
&lt;div class="target"&gt;Hover/click me&lt;/div&gt;
 
&lt;script&gt;
var n = 0;
$(".target").one("click mouseenter", function() {
  $(".count").html(++n);
});
&lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p>
	<p>
		<a href="http://www.shouce.ren/study/api/s/8158" target="_blank" class="btn btn-sm btn-success">运行一下</a>
	</p>
</p>
<p>
</p></div>
<div class="m-bg text-center margin_t_1">
	<a class="btn btn-sm btn-default" href="http://www.shouce.ren"><strong>手册网</strong></a>
</div>
<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
});
</script>
</body>
</html>
