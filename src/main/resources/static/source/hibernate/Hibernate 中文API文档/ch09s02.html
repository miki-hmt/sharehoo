<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK">
<title>9.2.&#160;限制</title>
<link rel="stylesheet" href="styles/html.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.71.0">
<link rel="start" href="index.html" title="HIBERNATE - 符合Java习惯的关系数据库持久化">
<link rel="up" href="ch09.html" title="第&#160;9&#160;章&#160;继承映射(Inheritance Mappings)">
<link rel="prev" href="ch09.html" title="第&#160;9&#160;章&#160;继承映射(Inheritance Mappings)">
<link rel="next" href="ch10.html" title="第&#160;10&#160;章&#160;与对象共事">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="inheritance-limitations"></a>9.2.&#160;限制</h2></div></div></div>
<p>
                对“每个具体类映射一张表”（table per concrete-class）的映射策略而言，隐式多态的
                方式有一定的限制。而<code class="literal">&lt;union-subclass&gt;</code>映射的限制则没有那
                么严格。
            </p>
<p>
                下面表格中列出了在Hibernte中“每个具体类一张表”的策略和隐式多态的限制。            
            </p>
<div class="table">
<a name="id502705"></a><p class="title"><b>表&#160;9.1.&#160;继承映射特性(Features of inheritance mappings)			</b></p>
<div class="table-contents"><table summary="继承映射特性(Features of inheritance mappings)			" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">继承策略(Inheritance strategy)</th>
<th align="left">多态多对一</th>
<th align="left">多态一对一</th>
<th align="left">多态一对多</th>
<th align="left">多态多对多</th>
<th align="left">多态 <code class="literal">load()/get()</code>
</th>
<th align="left">多态查询</th>
<th align="left">多态连接(join)</th>
<th align="left">外连接(Outer join)读取</th>
</tr></thead>
<tbody>
<tr>
<td align="left">每个类分层结构一张表</td>
<td align="left"><code class="literal">&lt;many-to-one&gt;</code></td>
<td align="left"><code class="literal">&lt;one-to-one&gt;</code></td>
<td align="left"><code class="literal">&lt;one-to-many&gt;</code></td>
<td align="left"><code class="literal">&lt;many-to-many&gt;</code></td>
<td align="left"><code class="literal">s.get(Payment.class, id)</code></td>
<td align="left"><code class="literal">from Payment p</code></td>
<td align="left"><code class="literal">from Order o join o.payment p</code></td>
<td align="left"><span class="emphasis"><em>支持</em></span></td>
</tr>
<tr>
<td align="left">每个子类一张表</td>
<td align="left"><code class="literal">&lt;many-to-one&gt;</code></td>
<td align="left"><code class="literal">&lt;one-to-one&gt;</code></td>
<td align="left"><code class="literal">&lt;one-to-many&gt;</code></td>
<td align="left"><code class="literal">&lt;many-to-many&gt;</code></td>
<td align="left"><code class="literal">s.get(Payment.class, id)</code></td>
<td align="left"><code class="literal">from Payment p</code></td>
<td align="left"><code class="literal">from Order o join o.payment p</code></td>
<td align="left"><span class="emphasis"><em>支持</em></span></td>
</tr>
<tr>
<td align="left">每个具体类一张表(union-subclass)</td>
<td align="left"><code class="literal">&lt;many-to-one&gt;</code></td>
<td align="left"><code class="literal">&lt;one-to-one&gt;</code></td>
<td align="left">
<code class="literal">&lt;one-to-many&gt;</code> (仅对于<code class="literal">inverse="true"</code>的情况)</td>
<td align="left"><code class="literal">&lt;many-to-many&gt;</code></td>
<td align="left"><code class="literal">s.get(Payment.class, id)</code></td>
<td align="left"><code class="literal">from Payment p</code></td>
<td align="left"><code class="literal">from Order o join o.payment p</code></td>
<td align="left"><span class="emphasis"><em>支持</em></span></td>
</tr>
<tr>
<td align="left">每个具体类一张表(隐式多态)</td>
<td align="left"><code class="literal">&lt;any&gt;</code></td>
<td align="left"><span class="emphasis"><em>不支持</em></span></td>
<td align="left"><span class="emphasis"><em>不支持</em></span></td>
<td align="left"><code class="literal">&lt;many-to-any&gt;</code></td>
<td align="left"><code class="literal">s.createCriteria(Payment.class).add( Restrictions.idEq(id) ).uniqueResult()</code></td>
<td align="left"><code class="literal">from Payment p</code></td>
<td align="left"><span class="emphasis"><em>不支持</em></span></td>
<td align="left"><span class="emphasis"><em>不支持</em></span></td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div></body>
</html>
