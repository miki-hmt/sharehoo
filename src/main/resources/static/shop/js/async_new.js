(function(d,c){var host_info=document.domain;var prefix_domain="";if(host_info.match(/^beta*/)){prefix_domain="beta"}else{if(host_info.match(/^l[a-z]*/)){prefix_domain="l"}}var host_http="http://"+prefix_domain+"ads.csdn.net/";var a="8c38e720de1c90a6f6ff52f3f89c4d57";c.reviveAsync=c.reviveAsync||{};if(!c.reviveAsync.hasOwnProperty(a)){f=c.reviveAsync[a]={id:Object.keys(c.reviveAsync).length,name:"revive",start:function(){var e=function(){try{if(!f.done){d.removeEventListener("DOMContentLoaded",e,false);c.removeEventListener("load",e,false);f.done=true;f.apply(f.detect())}}catch(g){console.log(g)}};if(d.readyState==="complete"){setTimeout(e)}else{d.addEventListener("DOMContentLoaded",e,false);c.addEventListener("load",e,false)}},ajax:function(e,g){},encode:function(m,n){var e=[],h,i;for(h in m){if(m.hasOwnProperty(h)){var l=n?n+"["+h+"]":h;if((/string|number|boolean/).test(typeof m[h])){e.push(encodeURIComponent(l)+"="+encodeURIComponent(m[h]))}else{var g=f.encode(m[h],l);for(i in g){e.push(g[i])}}}}return e},apply:function(g_m){var g=g_m[0];if(g.zones.length){var e="";scriptObj.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(scriptObj)}},detect:function(){var o=d.querySelectorAll("ins[data-"+f.name+"-id='"+a+"']");var n={zones:[],iframe:[],prefix:f.name+"-"+f.id+"-"};for(var g=0;g<o.length;g++){var k=o[g];var ak=k;if(k.hasAttribute("data-"+f.name+"-zoneid")){var l=new RegExp("^data-"+f.name+"-(.*)$"),e;for(var h=0;h<k.attributes.length;h++){if(e=k.attributes[h].name.match(l)){if(e[1]=="zoneid"){n.zones[g]=k.attributes[h].value;k.id=n.prefix+g}else{if(e[1]!="id"){n[e[1]]=k.attributes[h].value}}}}}if(ak.hasAttribute("iframe")){var al=new RegExp("iframe"),e;for(var h=0;h<ak.attributes.length;h++){if(e=ak.attributes[h].name.match(al)){if(e=="iframe"){n.iframe[g]=ak.attributes[h].value}}}}else{n.iframe[g]="false"}}var n_m=new Array();n_m[0]=n;n_m[1]=k;return n_m},createFrame:function(h){var e=d.createElement("IFRAME"),g=e.style;e.scrolling="no";e.frameBorder=0;e.width=h.width>0?h.width:0;e.height=h.height>0?h.height:0;g.border=0;g.overflow="hidden";return e},loadFrame:function(g,e){var h=g.contentDocument||g.contentWindow.document;h.open();h.writeln("<!DOCTYPE html>");h.writeln("<html>");h.writeln('<head><base target="_top"></head>');h.writeln('<body border="0" margin="0" style="margin: 0; padding: 0">');h.writeln(e);h.writeln("</body>");h.writeln("</html>");h.close()},spc:function(k){for(var e in k){if(k.hasOwnProperty(e)){var o=k[e];var n=d.getElementById(e);if(o.html){if(n){var m=d.createElement("div");var w=o.width;var h=o.height;m.style.width=w+"px";m.style.height=h+"px";m.setAttribute("class","J_adv");m.setAttribute("data-view",o.data_view);m.setAttribute("data-mod","ad_popu_"+o.data_aid);m.setAttribute("data-mtp",o.data_mod);m.setAttribute("data-order",o.data_order);if(o.hasOwnProperty("data_swapimg")){m.setAttribute("data-swapimg",o.data_swapimg)}var adv={};adv.data={};var preAdr=d.referrer||"-";adv.data.ref=preAdr;adv.data.mtp=o.data_mod;adv.data.mod="ad_popu_"+o.data_aid;adv.data.con="ad_content_"+o.data_ideaid+",ad_order_"+o.data_order;f.sendData(adv,"//dc.csdn.net/re?");m.setAttribute("data-con","ad_content_"+o.data_ideaid);m.setAttribute("class","J_adv");if(o.iframeFriendly){var l=f.createFrame(o);m.appendChild(l);n.parentNode.replaceChild(m,n);f.loadFrame(l,o.html)}else{m.innerHTML=o.html;var g=m.getElementsByTagName("SCRIPT");for(var l=0;l<g.length;l++){var q=document.createElement("SCRIPT");var p=g[l].attributes;for(var h=0;h<p.length;h++){q[p[h].nodeName]=p[h].value}if(g[l].innerHTML){q.text=g[l].innerHTML}m.replaceChild(q,g[l])}n.parentNode.replaceChild(m,n)}}}}}if(f.isExitsFunction("CSDN.track.addAdvs")){CSDN.track.addAdvs()}},isExitsFunction:function(funcName){try{if(typeof(eval(funcName))=="function"){return true}}catch(e){}return false},GetQueryString:function(name){var reg=new RegExp("(^|&)"+name+"=([^&]*)(&|$)");var r=window.location.search.substr(1).match(reg);if(r!=null){return unescape(r[2])}else{return null}},getUserId:function(){var result=/(; )?(UserName|_javaeye_cookie_id_)=([^;]+)/.exec(d.cookie);var uid=(result!=null?result[3]:void 0)||"-";return uid},sendData:function(adv,url){adv.data.uid=f.getUserId();protocol="http:";adv.data.ck="-";var dataStr=this.paramData(adv.data);var img=new Image();img.onload=img.onerror=function(){img.onload=img.onerror=null;img=null};img.src=protocol+url+dataStr},paramData:function(data){var dataArr=[];for(var key in data){var text=key+"="+data[key];text.replace(/^\s+|\s+$/g,"");dataArr.push(text)}return dataArr.join("&")}};try{f.start()}catch(b){console.log(b)}}})(document,window);