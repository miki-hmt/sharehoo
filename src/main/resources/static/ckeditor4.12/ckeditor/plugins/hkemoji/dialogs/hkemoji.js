CKEDITOR.dialog.add("hkemojiDialog",function(d){var h=d.config,k,l=function(c){var b=c.data.getTarget(),a=b.getName();if("a"==a)b=b.getChild(0);else if("img"!=a)return;a=b.getAttribute("cke_src");b=d.document.createElement("img",{attributes:{src:a,"data-cke-saved-src":a,width:b.$.width,height:b.$.height}});d.insertElement(b);k.hide();c.data.preventDefault()},m=CKEDITOR.tools.addFunction(function(c,b){c=new CKEDITOR.dom.event(c);b=new CKEDITOR.dom.element(b);var a;a=c.getKeystroke();var e="rtl"==d.lang.dir;
switch(a){case 38:if(a=b.getParent().getParent().getPrevious())a=a.getChild([b.getParent().getIndex(),0]),a.focus();c.preventDefault();break;case 40:(a=b.getParent().getParent().getNext())&&(a=a.getChild([b.getParent().getIndex(),0]))&&a.focus();c.preventDefault();break;case 32:l({data:c});c.preventDefault();break;case e?37:39:if(a=b.getParent().getNext())a=a.getChild(0),a.focus(),c.preventDefault(!0);else if(a=b.getParent().getParent().getNext())(a=a.getChild([0,0]))&&a.focus(),c.preventDefault(!0);
break;case e?39:37:if(a=b.getParent().getPrevious())a=a.getChild(0),a.focus(),c.preventDefault(!0);else if(a=b.getParent().getParent().getPrevious())a=a.getLast().getChild(0),a.focus(),c.preventDefault(!0)}}),n=function(c){var b=CKEDITOR.tools.getNextId()+"_smiley_emtions_label",b=['\x3cdiv style\x3d"max-height:300px;overflow-y:scroll;"\x3e\x3cstyle type\x3d"text/css"\x3e.hkemoji:hover {border:1pt solid;border-color: green;background-color:#e6ffff}\x3c/style\x3e\x3cspan id\x3d"'+b+'" class\x3d"cke_voice_label"\x3eTest\x3c/span\x3e',
'\x3ctable role\x3d"listbox" aria-labelledby\x3d"'+b+'" style\x3d"width:100%;height:100%;border-collapse:separate;" cellspacing\x3d"2" cellpadding\x3d"2"',CKEDITOR.env.ie&&CKEDITOR.env.quirks?' style\x3d"position:absolute;"':"","\x3e\x3ctbody\x3e"],a={},e=0,d;for(d in h.hkemoji.emojis[c]){var f=h.hkemoji.emojis[c][d];a[f]=d}for(d in a)if(0===e%6&&b.push('\x3ctr role\x3d"presentation"\x3e'),a.hasOwnProperty(d)){var f=a[d],g;for(g in f)f.hasOwnProperty(g);f=h.smiley_path+c+"/"+d;b.push('\x3ctd class\x3d"cke_centered" style\x3d"vertical-align: middle;" role\x3d"presentation"\x3e\x3cimg class\x3d"hkemoji" cke_src\x3d"'+
CKEDITOR.tools.htmlEncode(f)+'" src\x3d"'+f+'" href\x3d"javascript:void(0)" onkeydown\x3d"CKEDITOR.tools.callFunction( ',m,', event, this );"/\x3e',"\x3c/td\x3e");5==e%6&&b.push("\x3c/tr\x3e");e++}if(5>e){for(;5>e;e++)b.push("\x3ctd\x3e\x3c/td\x3e");b.push("\x3c/tr\x3e")}b.push("\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e");return b},g=function(c){return{type:"html",id:"emojiSelector",html:n(c).join(""),onLoad:function(b){k=b.sender},onClick:l,style:"width: 100%; border-collapse: separate;"}};return{title:"HK Emoji",
minWidth:550,minHeight:200,contents:[{id:"tab-onion",label:d.config.hkemoji.tabs.onion,elements:[g("onion")]},{id:"tab-red",label:d.config.hkemoji.tabs.red,elements:[g("red")]},{id:"tab-milkbottle",label:d.config.hkemoji.tabs.milkbottle,elements:[g("milkbottle")]},{id:"tab-facebook",label:d.config.hkemoji.tabs.facebook,elements:[g("facebook")]}],onShow:function(){}}});